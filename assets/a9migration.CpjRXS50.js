import{_ as h}from"./ValaxyMain.vue_vue_type_script_setup_true_lang.B7T0kWzG.js";import{f as m,g as y,h as b}from"./chunks/vue-router.CWHyo4u9.js";import{D as k,P as n,u as v,E as f,O as s,U as l,a0 as a,p as z}from"./framework.BJ_UGP-K.js";import"./app.C7s_ck_O.js";import"./chunks/dayjs.Byk5cVHE.js";import"./chunks/pinia.rdBI-am1.js";import"./chunks/vue-i18n.CWNv2zlx.js";import"./chunks/nprogress.Cino7761.js";const q=m("/posts/a9migration",async t=>JSON.parse('{"title":"利用服务器搭建QQ机器人","description":"","frontmatter":{"title":"利用服务器搭建QQ机器人","date":"2024-05-22","updated":"2024-05-22","categories":"学习笔记","cover":"https://koimg.cn-sy1.rains3.com/2024/08/28/719833.webp","excerpt":"本文所述内容具有依赖性，可能因软硬条件不同而与预期有所差异，故请以实际为准，仅供参考。使用 CDN，一般都是出于加速和安全防护的目的，但是经常一些有意无意的配置导致源站 IP 暴露，致使 CDN 防护失效，本文将探讨如何更好地保护源站 IP 安全。下面简单描述一下常见的一些扫源站的法子，不过不局限于这些，这是博主已知的范围","tags":["AI","教程","服务器"]},"headers":[{"level":2,"title":"选购服务器","slug":"选购服务器","link":"#选购服务器","children":[]},{"level":2,"title":"获取源码","slug":"获取源码","link":"#获取源码","children":[]},{"level":2,"title":"SSH软件","slug":"ssh软件","link":"#ssh软件","children":[]},{"level":2,"title":"连接服务器","slug":"连接服务器","link":"#连接服务器","children":[]},{"level":2,"title":"上传源码","slug":"上传源码","link":"#上传源码","children":[{"level":3,"title":"server：","slug":"server","link":"#server","children":[]},{"level":3,"title":"client：","slug":"client","link":"#client","children":[]}]},{"level":2,"title":"解压源码","slug":"解压源码","link":"#解压源码","children":[]},{"level":2,"title":"服务器环境","slug":"服务器环境","link":"#服务器环境","children":[{"level":3,"title":"激活环境","slug":"激活环境","link":"#激活环境","children":[]},{"level":3,"title":"目前国内常用的源：","slug":"目前国内常用的源","link":"#目前国内常用的源","children":[]}]},{"level":2,"title":"配置","slug":"配置","link":"#配置","children":[]}],"relativePath":"pages/posts/a9migration.md","lastUpdated":null}'),{lazy:(t,r)=>t.name===r.name}),A={__name:"a9migration",setup(t,{expose:r}){var o;const{data:c}=q(),g=b(),p=y(),i=Object.assign(p.meta.frontmatter||{},((o=c.value)==null?void 0:o.frontmatter)||{});return p.meta.frontmatter=i,g.currentRoute.value.data=c.value,z("valaxy:frontmatter",i),globalThis.$frontmatter=i,r({frontmatter:{title:"利用服务器搭建QQ机器人",date:"2024-05-22",updated:"2024-05-22",categories:"学习笔记",cover:"https://koimg.cn-sy1.rains3.com/2024/08/28/719833.webp",excerpt:"本文所述内容具有依赖性，可能因软硬条件不同而与预期有所差异，故请以实际为准，仅供参考。使用 CDN，一般都是出于加速和安全防护的目的，但是经常一些有意无意的配置导致源站 IP 暴露，致使 CDN 防护失效，本文将探讨如何更好地保护源站 IP 安全。下面简单描述一下常见的一些扫源站的法子，不过不局限于这些，这是博主已知的范围",tags:["AI","教程","服务器"]}}),(e,u)=>{const d=h;return f(),k(d,{frontmatter:v(i)},{"main-content-md":n(()=>u[0]||(u[0]=[l("h1",{id:"创建环境",tabindex:"-1"},[a("创建环境 "),l("a",{class:"header-anchor",href:"#创建环境","aria-label":'Permalink to "创建环境"'},"​")],-1),l("p",null,"准备一台服务器是搭建网站或应用程序的第一步。选择合适的配置对于服务器的性能和稳定性至关重要。推荐的配置是2核2GB内存及更高，这样可以确保服务器能够处理更多的并发请求和运行更多的应用程序。如果预算有限，最低配置也可以选择1核2GB内存，虽然性能会有所限制，但对于一些小型网站或应用程序来说仍然是可以接受的。在选择服务器配置时，还需要考虑到预期的流量和应用程序的需求，以确保选择的配置能够满足需求并具有一定的扩展性。",-1),l("h2",{id:"选购服务器",tabindex:"-1"},[a("选购服务器 "),l("a",{class:"header-anchor",href:"#选购服务器","aria-label":'Permalink to "选购服务器"'},"​")],-1),l("p",null,[a("前往 "),l("a",{href:"https://www.rainyun.com/vip5r_",target:"_blank",rel:"noreferrer"},"雨云 - 新一代云服务提供商 (rainyun.com)"),a(" 进行获取，记得完善好个人信息，绑定好自己的账号")],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12foax4.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,[a("注册完之后就可以前往 "),l("a",{href:"https://app.rainyun.com/apps/rcs/buy",target:"_blank",rel:"noreferrer"},"购买云服务器 | 雨云 (rainyun.com)"),a(" 进行选择配置，这里推荐使用香港三区，系统可选择：centos，ubuntu和debian")],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12gx15v.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"在这里，我推荐购买独立公网IP。这不仅价格合理，还能方便处理事务。此外，需要注意的是，NAT开放端口的次数是有限制的",-1),l("blockquote",null,[l("p",null,[a("同时，雨云的美区二区有"),l("strong",null,"优化"),a("，并且IP可"),l("strong",null,"加200G高防[CoreSite专供]")])],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12iyv0j.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("h2",{id:"获取源码",tabindex:"-1"},[a("获取源码 "),l("a",{class:"header-anchor",href:"#获取源码","aria-label":'Permalink to "获取源码"'},"​")],-1),l("p",null,"服务器用的是github中lss233的QQ机器人，下载Source code文件zip和tar.gz都可以",-1),l("p",null,[l("a",{href:"https://github.com/lss233/chatgpt-mirai-qq-bot",target:"_blank",rel:"noreferrer"},"GitHub - lss233/chatgpt-mirai-qq-bot: 🚀 一键部署！真正的 AI 聊天机器人！支持ChatGPT、文心一言、讯飞星火、Bing、Bard、ChatGLM、POE，多账号，人设调教，虚拟女仆、图片渲染、语音发送 | 支持 QQ、Telegram、Discord、微信 等平台")],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12o8j5w.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"客户端用的是go-cqhttp",-1),l("p",null,[l("a",{href:"https://github.com/Mrs4s/go-cqhttp",target:"_blank",rel:"noreferrer"},"GitHub - Mrs4s/go-cqhttp: cqhttp的golang实现，轻量、原生跨平台.")],-1),l("p",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12pv37l.png",alt:"img"}),l("strong",null,"进入链接没有以上信息？")],-1),l("blockquote",null,[l("p",null,"防止小白不懂，点这就进去了，一般是最顶上的最新版本就行了，如果特殊需求自信选择")],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12qltla.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("blockquote",null,[l("p",null,[a("下载太慢/无法访问？："),l("a",{href:"https://ipv4wp.axzzz.top:9503/s/BDQSX",target:"_blank",rel:"noreferrer"},[l("strong",null,"https://ipv4wp.axzzz.top:9503/s/BDQSX")])]),l("p",null,[a("这里我给大伙放出云盘连接下载，推荐使用云盘："),l("a",{href:"https://ipv4wp.axzzz.top:9503/",target:"_blank",rel:"noreferrer"},"Axzzz云盘")])],-1),l("h1",{id:"开始建设",tabindex:"-1"},[a("开始建设 "),l("a",{class:"header-anchor",href:"#开始建设","aria-label":'Permalink to "开始建设"'},"​")],-1),l("p",null,"首先，连接服务器，通过ssh软件进行连接",-1),l("blockquote",null,[l("p",null,"Centos系统要是行不通你可以试试去Ubuntu22，文章测试环境后面换成了Ubuntu22")],-1),l("h2",{id:"ssh软件",tabindex:"-1"},[a("SSH软件 "),l("a",{class:"header-anchor",href:"#ssh软件","aria-label":'Permalink to "SSH软件"'},"​")],-1),l("p",null,[a("小白推荐使用："),l("a",{href:"https://www.xterminal.cn/",target:"_blank",rel:"noreferrer"},"Xterminal - 更好用的开发工具，但不止于(SSH/控制台/More)")],-1),l("p",null,[l("strong",null,"优点")],-1),l("ul",null,[l("li",null,"操作简单，易上手"),l("li",null,"支持TAB快速补齐命令"),l("li",null,"支持直接上传所需文件"),l("li",null,"…")],-1),l("h2",{id:"连接服务器",tabindex:"-1"},[a("连接服务器 "),l("a",{class:"header-anchor",href:"#连接服务器","aria-label":'Permalink to "连接服务器"'},"​")],-1),l("p",null,"打开软件，可无视充值，右上角或者左上角点击新建服务器",-1),l("figure",null,[l("a",{href:"https://imgse.koxiuqiu.cn/i/2024/05/21/12tmhvr.png",target:"_blank",rel:"noreferrer"},[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12tmhvr.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})])],-1),l("p",null,[a("前往："),l("a",{href:"https://app.rainyun.com/apps/rcs/list",target:"_blank",rel:"noreferrer"},"我的云服务器 | 雨云 (rainyun.com)"),a(" 直接点击管理进入管理面板")],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12vac28.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"把信息CTRL+C复制，然后依次CTRL+V粘贴至SSH软件",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12x51xq.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"然后在列表中找到服务器，直接点击连接即可！",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/12y62ge.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("h2",{id:"上传源码",tabindex:"-1"},[a("上传源码 "),l("a",{class:"header-anchor",href:"#上传源码","aria-label":'Permalink to "上传源码"'},"​")],-1),l("p",null,"在run目录创建一个文件夹qq，然后再进入qq目录，再创建一个server和client文件夹，这里为了方便管理所以创建的这两个文件夹。以下是创建指令（当然你也可以通过SSH软件直接按照win一样创建）",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"cd /run")]),a(`
`),l("span",{class:"line"},[l("span",null,"mkdir qq")]),a(`
`),l("span",{class:"line"},[l("span",null,"cd qq")]),a(`
`),l("span",{class:"line"},[l("span",null,"mkdir server client")])])]),l("button",{class:"collapse"})],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/21/130nptr.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"然后把对应的文件上传到对应的目录即可",-1),l("h3",{id:"server",tabindex:"-1"},[a("server： "),l("a",{class:"header-anchor",href:"#server","aria-label":'Permalink to "server："'},"​")],-1),l("p",null,"先输入代码，然后上传源码",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"/run/qq/server")])])]),l("button",{class:"collapse"})],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/2fsww.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("h3",{id:"client",tabindex:"-1"},[a("client： "),l("a",{class:"header-anchor",href:"#client","aria-label":'Permalink to "client："'},"​")],-1),l("p",null,"先输入代码，然后上传源码",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"/run/qq/client")])])]),l("button",{class:"collapse"})],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/3s3aj.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"下一步先别急着解压zip，不然你可能会遇到解压失败的问题，你这时候可以先执行几段命令（Centos）",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"yum install wget")]),a(`
`),l("span",{class:"line"},[l("span",null,"yum install unzip")]),a(`
`),l("span",{class:"line"},[l("span",null,"yum install tar")])])]),l("button",{class:"collapse"})],-1),l("p",null,"直接输入Y确认就行了",-1),l("figure",null,[l("a",{href:"https://imgse.koxiuqiu.cn/i/2024/05/22/6k9qc.png",target:"_blank",rel:"noreferrer"},[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/6k9qc.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})])],-1),l("h2",{id:"解压源码",tabindex:"-1"},[a("解压源码 "),l("a",{class:"header-anchor",href:"#解压源码","aria-label":'Permalink to "解压源码"'},"​")],-1),l("p",null,"依次执行命令(有的可能要改看你文件叫什么名字)：",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"cd /run/qq/server")]),a(`
`),l("span",{class:"line"},[l("span",null,"unzip chatgpt-mirai-qq-bot-2.5.3.zip")]),a(`
`),l("span",{class:"line"},[l("span",null,"cd /run/qq/client")]),a(`
`),l("span",{class:"line"},[l("span",null,"tar -zvxf go-cqhttp_linux_amd64.tar.gz")])])]),l("button",{class:"collapse"})],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/795k3.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"如果你是用教程指定的SSH软件，就可以直接右键来操作解压",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/7x4qi.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"上传服务端和客户端完成后，就可以开始准备服务器环境了",-1),l("h2",{id:"服务器环境",tabindex:"-1"},[a("服务器环境 "),l("a",{class:"header-anchor",href:"#服务器环境","aria-label":'Permalink to "服务器环境"'},"​")],-1),l("p",null,[a("首先是python环境这里下载conda："),l("a",{href:"https://www.anaconda.com/download#downloads",target:"_blank",rel:"noreferrer"},"Distribution | Anaconda")],-1),l("p",null,"点这里跳过注册",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/9v4x0.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/abz1x.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,[a("获取到链接："),l("a",{href:"https://repo.anaconda.com/archive/Anaconda3-2024.02-1-Linux-x86_64.sh",target:"_blank",rel:"noreferrer"},"https://repo.anaconda.com/archive/Anaconda3-2024.02-1-Linux-x86_64.sh")],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/r2sju.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"回到SSH终端，输入执行：",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"wget https://repo.anaconda.com/archive/Anaconda3-2024.02-1-Linux-x86_64.sh")])])]),l("button",{class:"collapse"})],-1),l("p",null,"有亿点久，耐心等，国内服务器可能会更久，你可以挂服务器下载完了自己弄一个下载链接",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/lvdutl.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"然后输入：",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"sh Anaconda3-2024.02-1-Linux-x86_64.sh")])])]),l("button",{class:"collapse"})],-1),l("p",null,"然后就会发现出现一堆东西，回车也没用，这其实是协议什么的，这里直接先回车一下然后按Ctrl + c跳过即可",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/w8iqx.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"当然如果发现没法跳过你一直按着回车Enter吧，反正我就是找个东西压着然后打游戏了，回来看就好了",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/m5bwnd.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"输入yes回车即可",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/wusei.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("blockquote",null,[l("p",null,"安装失败就可以看看你是什么系统，centos7，8都可以")],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/m5hyzn.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("h3",{id:"激活环境",tabindex:"-1"},[a("激活环境 "),l("a",{class:"header-anchor",href:"#激活环境","aria-label":'Permalink to "激活环境"'},"​")],-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"sudo -i")])])]),l("button",{class:"collapse"})],-1),l("p",null,"然后创建python环境",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"conda create --name bot python=3.10")])])]),l("button",{class:"collapse"})],-1),l("p",null,[l("a",{href:"https://www.cnblogs.com/wjunneng/p/9391103.html",target:"_blank",rel:"noreferrer"},"Ubuntu 下Anaconda3出现 conda：command not found（未找到命令） - wjunneng - 博客园 (cnblogs.com)")],-1),l("p",null,"之后进入环境",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"conda activate bot")])])]),l("button",{class:"collapse"})],-1),l("p",null,"换一下pip3软件包源",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"pip3 config set global.index-url https://mirrors.aliyun.com/pypi/simple/")])])]),l("button",{class:"collapse"})],-1),l("h3",{id:"目前国内常用的源",tabindex:"-1"},[a("目前国内常用的源： "),l("a",{class:"header-anchor",href:"#目前国内常用的源","aria-label":'Permalink to "目前国内常用的源："'},"​")],-1),l("ul",null,[l("li",null,[a("阿里云 "),l("a",{href:"https://mirrors.aliyun.com/pypi/simple/",target:"_blank",rel:"noreferrer"},"https://mirrors.aliyun.com/pypi/simple/")]),l("li",null,[a("清华大学 "),l("a",{href:"https://pypi.tuna.tsinghua.edu.cn/simple/",target:"_blank",rel:"noreferrer"},"https://pypi.tuna.tsinghua.edu.cn/simple/")]),l("li",null,[a("中国科学技术大学"),l("a",{href:"https://pypi.mirrors.ustc.edu.cn/simple/",target:"_blank",rel:"noreferrer"},"https://pypi.mirrors.ustc.edu.cn/simple/")]),l("li",null,[a("华中科技大学"),l("a",{href:"https://pypi.hustunique.com",target:"_blank",rel:"noreferrer"},"https://pypi.hustunique.com")])],-1),l("p",null,[l("strong",null,"现在所有的环境搭建完成")],-1),l("h1",{id:"搭建服务端与客户端",tabindex:"-1"},[a("搭建服务端与客户端 "),l("a",{class:"header-anchor",href:"#搭建服务端与客户端","aria-label":'Permalink to "搭建服务端与客户端"'},"​")],-1),l("p",null,"首先我们准备客户端登录环节，我们去官网下载win版本的cqhttp客户端在本地登录，看自己系统架构选择",-1),l("p",null,[l("a",{href:"https://github.com/Mrs4s/go-cqhttp/releases/tag/v1.2.0",target:"_blank",rel:"noreferrer"},"Release v1.2.0 · Mrs4s/go-cqhttp · GitHub")],-1),l("p",null,[a("或者是Axzzz云盘："),l("a",{href:"https://ipv4wp.axzzz.top:9503/s/BDQSX",target:"_blank",rel:"noreferrer"},[l("strong",null,"https://ipv4wp.axzzz.top:9503/s/BDQSX")])],-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/lkhmgc.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("h2",{id:"配置",tabindex:"-1"},[a("配置 "),l("a",{class:"header-anchor",href:"#配置","aria-label":'Permalink to "配置"'},"​")],-1),l("p",null,"下载后解压，双击",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/ncpyyp.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"然后确认",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/ncdhav.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"然后会在文件夹生成文件，双击打开输入3回车",-1),l("figure",null,[l("a",{href:"https://imgse.koxiuqiu.cn/i/2024/05/22/ndbz0a.png",target:"_blank",rel:"noreferrer"},[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/ndbz0a.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})])],-1),l("p",null,"然后会在文件夹生成config.yml，然后关闭命令窗口，使用编辑器打开或者记事本打开",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/nf9kc6.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("blockquote",null,[l("p",null,[a("推荐使用国产，"),l("a",{href:"https://gitee.com/cxasm/notepad--",target:"_blank",rel:"noreferrer"},"ndd: notepad–是一个国产跨平台、轻量级的文本编辑器，是替换notepad++的一种选择。其内置强大的代码对比功能，让你丢掉付费的beyond compare。 (gitee.com)"),a("（不支持N++详细搜索N++辱华事件详细我后续会写一篇文章说明）")])],-1),l("p",null,"填写你QQ机器人的QQ号",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/ngf2wk.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"翻到最下边修改服务器地址",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/nh5hlo.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"ws://127.0.0.1:11451/ws")])])]),l("button",{class:"collapse"})],-1),l("p",null,"CTRL+S保存",-1),l("p",null,"这里后文会提到的127.0.0.1可以改为你自己服务端的公网ip，也可以改为本地ip，这主要看你的服务端安装在哪，端口就是服务端的一个端口，只要不被别的应用占用就行。",-1),l("p",null,"我们再次双击bat文件，等个几秒钟然后退出即可，这时会生成一个device.json文件",-1),l("p",null,"这时候不能直接开始运行go-cqhttp.bat，“当前协议不支持二维码登录, 请配置账号密码登录.”，需要修改一下device.json中找到protocol项把后面数字改为2（CTRL+F查找）",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/nllvgu.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"然后记得打卡记得双击窗口全屏，避免二维码不全",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/nmt4f2.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"找到以下几个文件，复制到客户端中",-1),l("figure",null,[l("img",{src:"https://imgse.koxiuqiu.cn/i/2024/05/22/nnm549.png",alt:"img",loading:"lazy",decoding:"async",class:"lazy"})],-1),l("p",null,"安装一个命令screen",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"sudo dnf install epel-release")]),a(`
`),l("span",{class:"line"},[l("span",null,"sudo dnf update")]),a(`
`),l("span",{class:"line"},[l("span",null,"sudo dnf install screen")]),a(`
`),l("span",{class:"line"},[l("span",null,"screen -S bot")])])]),l("button",{class:"collapse"})],-1),l("p",null,"创建一个bot后台",-1),l("p",null,"我们进入服务端目录，输入",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"conda activate bot")])])]),l("button",{class:"collapse"})],-1),l("p",null,"然后把服务端的config.example.cfg改为config.cfg",-1),l("p",null,[a("打开编辑，把"),l("strong",null,"mirai"),a("及以下内容改为")],-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"[onebot]")]),a(`
`),l("span",{class:"line"},[l("span",null,"qq=请修改为你机器人的QQ号")]),a(`
`),l("span",{class:"line"},[l("span",null,"manager_qq = 请修改为机器人管理员的QQ号")]),a(`
`),l("span",{class:"line"},[l("span")]),a(`
`),l("span",{class:"line"},[l("span",null,'reverse_ws_host = "127.0.0.1(你IP)"')]),a(`
`),l("span",{class:"line"},[l("span",null,"reverse_ws_port = 8566")])])]),l("button",{class:"collapse"})],-1),l("blockquote",null,[l("p",null,"这里的host和port与客户端设置的要一样")],-1),l("p",null,"添加模型自行添加，然后回到终端",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"pip3 install -r requirements.txt")]),a(`
`),l("span",{class:"line"},[l("span",null,"screen -S cqhttp")])])]),l("button",{class:"collapse"})],-1),l("p",null,"找到客户端目录，输入",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"./cqhttp")])])]),l("button",{class:"collapse"})],-1),l("p",null,"等待安装完毕后再执行",-1),l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"python3 bot.py")])])]),l("button",{class:"collapse"})],-1),l("blockquote",null,[l("p",null,[a("如果报错尝试："),l("code",null,"pip3 install Werkzeug==2.3.0")])],-1),l("p",null,[l("strong",null,"接下来就可以直接拉起群里于QQ机器人尝试互动即可！")],-1),l("ul",null,[l("li",null,"番外")],-1),l("p",null,[a("实际上，此程序还有其他用途，例子："),l("a",{href:"https://blog.csdn.net/weixin_71669458/article/details/128233169",target:"_blank",rel:"noreferrer"},"制作属于自己的QQ机器人，超详细_qq机器人怎么弄-CSDN博客")],-1),l("p",null,[l("em",null,"弄一个挂机宝挂着就行了！")],-1)])),"main-header":n(()=>[s(e.$slots,"main-header")]),"main-header-after":n(()=>[s(e.$slots,"main-header-after")]),"main-nav":n(()=>[s(e.$slots,"main-nav")]),"main-content-before":n(()=>[s(e.$slots,"main-content-before")]),"main-content":n(()=>[s(e.$slots,"main-content")]),"main-content-after":n(()=>[s(e.$slots,"main-content-after")]),"main-nav-before":n(()=>[s(e.$slots,"main-nav-before")]),"main-nav-after":n(()=>[s(e.$slots,"main-nav-after")]),comment:n(()=>[s(e.$slots,"comment")]),footer:n(()=>[s(e.$slots,"footer")]),aside:n(()=>[s(e.$slots,"aside")]),"aside-custom":n(()=>[s(e.$slots,"aside-custom")]),default:n(()=>[s(e.$slots,"default")]),_:3},8,["frontmatter"])}}};export{A as default,q as usePageData};
