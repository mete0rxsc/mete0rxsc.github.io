import{o as V,p as q,_ as H,l as R,s as B,q as G,r as W,t as O,v as U,w as K,e as X,f as J}from"./app.Cao7-B9d.js";import{f as w,P as l,O as o,S as r,W as P,L as T,R as p,r as y,d as E,V as g,N as $,a3 as N,Y as k,$ as F,u as _,F as M,U as z,y as u,a2 as D,c as I,w as Q,X as L,D as Z,M as ee}from"./framework.B3-meWAy.js";import"./chunks/dayjs.Byk5cVHE.js";import{g as j}from"./animation.BmKSPrMr.js";import{a as te}from"./chunks/vue-router.4EV29ab2.js";import{_ as ne,S as se}from"./StayPleaseTitle.DGrqQMXV.js";import"./chunks/vue-i18n.DYdeeex7.js";import"./chunks/pinia.CaogHvnm.js";import"./chunks/@vueuse/motion.jISeQ3Au.js";import"./chunks/nprogress.Cino7761.js";const oe={class:"w-full px-4 flex-center"},ae={class:"yun-notice w-full"},re=["innerHTML"],ce=w({__name:"YunNotice",props:{content:{}},setup(d){return(e,t)=>(o(),l("div",oe,[r("div",ae,[r("span",{innerHTML:e.content},null,8,re),P(e.$slots,"default")])]))}}),ie={},le={class:"grid-bg"};function ue(d,e){return o(),l("div",le,[p(" <YunAEFrame /> "),p(" <YunAERect /> ")])}const pe=T(ie,[["render",ue]]),_e={class:"say"},me={key:0,class:"say-content animate-fade-in animate-iteration-1"},de={key:1,class:"say-author"},fe={key:2,class:"say-from"},he=w({__name:"YunSay",setup(d){const e=V(),t=y(""),n=y(""),a=y("");function m(){const i=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;i&&fetch(i).then(c=>{if(c.ok)c.json().then(f=>{if(e.value.say.hitokoto.enable)t.value=f.hitokoto,n.value=f.from_who,a.value=f.from;else{const h=f[Math.floor(Math.random()*f.length)];h.content?(t.value=h.content,n.value=h.author,a.value=h.from):t.value=h}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${c.status}`)}).catch(c=>{console.error(c.message)})}return E(()=>{m()}),(i,c)=>(o(),l("div",_e,[t.value?(o(),l("span",me,g(t.value),1)):p("v-if",!0),n.value?(o(),l("span",de,g(n.value),1)):p("v-if",!0),a.value?(o(),l("span",fe,g(a.value),1)):p("v-if",!0)]))}}),ve=w({__name:"YunSiteLinkItem",props:{page:{}},setup(d){const e=q();return(t,n)=>{const a=H;return o(),$(a,{class:"link-item inline-flex-center gap-2 transition rounded-lg text-xl p-2 md:text-lg md:p-2 lg:text-xl lg:p-3 text-$va-c-text",bg:"white/5 dark:black/5","inline-flex":"",to:t.page.url,title:t.page.name,style:F(`color:${t.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:n[0]||(n[0]=m=>_(e).fullscreenMenu.isOpen=!1)},{default:N(()=>[r("div",{class:k([t.page.icon,"icon"])},null,2),r("span",null,g(t.page.name),1)]),_:1},8,["to","title","style"])}}}),ye={key:0,class:"site-description text-$va-c-text text-sm"},we=w({__name:"YunSiteDescription",setup(d){const e=R();return(t,n)=>_(e).description?(o(),l("div",ye,g(_(e).description),1)):p("v-if",!0)}}),ge={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},be=w({__name:"YunSiteSubtitle",setup(d){const e=R();return(t,n)=>_(e).subtitle?(o(),l("h4",ge,g(_(e).subtitle),1)):p("v-if",!0)}}),xe=w({__name:"YunAnimLineDraw",setup(d){const e=y(!1);return E(()=>{e.value=!0}),(t,n)=>(o(),l("div",{class:k(["line",{enter:e.value}])},null,2))}}),$e=T(xe,[["__scopeId","data-v-61df0b18"]]),ke={key:0,class:"site-author-intro",m:"t-0 b-4"},Ce=w({__name:"YunAuthorIntro",setup(d){const e=R();return(t,n)=>_(e).author.intro?(o(),l("div",ke,g(_(e).author.intro),1)):p("v-if",!0)}}),Ye={key:0,class:"line-burst-effects absolute"},Me=w({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(d){const e=d,t=y(!0);return E(async()=>{await B(e.delay),t.value=!1,await B(e.duration),t.value=!0}),(n,a)=>t.value?p("v-if",!0):(o(),l("div",Ye,[(o(),l(M,null,z(8,m=>r("div",{key:m,class:"line"},a[0]||(a[0]=[r("div",null,[r("span")],-1)]))),64))]))}}),Se={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl"},Le={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},Ne={class:"py-4 md:py-5 lg:pt-6"},Ee={flex:"~ col",class:"gap-2 items-center justify-center"},Ie={class:"scale-x--100 py-4 md:py-5 lg:pb-6"},Pe={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},De=w({__name:"YunPrologueSquare",setup(d){const e=V(),t=y(!1);return(n,a)=>{const m=Me,i=G,c=W,f=Ce,h=$e,S=O,C=be,v=we,s=U,b=ve;return o(),l("div",Se,[P(n.$slots,"default",{},void 0,!0),r("div",{flex:"~ col center",class:k(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:t.value}])},[u(D,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:a[0]||(a[0]=x=>t.value=!0)},{default:N(()=>[r("div",Le,[u(m,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),u(D,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:N(()=>[u(i)]),_:1})])]),_:1}),r("div",{class:k(["info",{show:t.value}])},[u(c,{class:"mt-3",style:{color:"white"}}),u(f),r("div",Ne,[u(h)]),r("div",Ee,[u(S,{style:{color:"white"}}),u(C,{style:{color:"white"}}),u(v,{style:{color:"white"}})]),r("div",Ie,[u(h)]),u(s),r("div",Pe,[u(b,{page:{name:"åšå®¢æ–‡ç« ",icon:"i-ri-article-line",url:"/posts/"}}),P(n.$slots,"default",{},void 0,!0),(o(!0),l(M,null,z(_(e).pages,(x,Y)=>(o(),$(b,{key:Y,page:x},null,8,["page"]))),128))])],2)],2)])}}}),Ae=T(De,[["__scopeId","data-v-860498dc"]]),Be=w({__name:"YunGoDown",setup(d){return(e,t)=>(o(),l("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...n)=>_(j)&&_(j)(...n))},t[1]||(t[1]=[r("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])))}}),Ve={class:"banner-char-container"},Te={class:"char"},qe=w({__name:"YunBannerCharContainer",props:{title:{},chars:{}},setup(d){return(e,t)=>(o(),l("div",Ve,[(o(!0),l(M,null,z(e.title,(n,a)=>(o(),l("div",{key:a,class:"char-box"},[r("span",{class:k([a%2!==0?"char-right":"char-left"]),style:F({"--banner-char-size":`${e.chars[a]}rem`})},[r("span",Te,g(n),1)],6)]))),128))]))}});function Re(d){const e=I(()=>{const n=[];for(let a=0;a<d.title.length;a++){const m=K(1.5,3.5);n.push(m)}return n}),t=I(()=>e.value.reduce((n,a)=>n+a,0));return{chars:e,totalCharHeight:t}}const Fe={class:"banner-line-container"},ze={class:"banner-line-container bottom"},je=w({__name:"YunBanner",setup(d){const e=q(),t=V(),{totalCharHeight:n,chars:a}=Re(t.value.banner),m=I(()=>{const h={"--total-char-height":`${n.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${n.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(h.borderBottom="1px solid var(--banner-line-color)"),h}),i=y("enter"),c=I(()=>i.value),f=y("banner");return E(async()=>{await B(500),i.value="active",e.isNimbo&&(await B(500),i.value="exit",f.value="prologue")}),(h,S)=>{const C=qe,v=Be;return o(),l("div",{id:"yun-banner",border:"b-1px b-solid b-$banner-line-color",style:F(m.value)},[r("div",Fe,[r("div",{class:k(["banner-line vertical-line-top",c.value])},null,2)]),_(e).isNimbo?(o(),l(M,{key:0},[f.value==="banner"?(o(),$(C,{key:0,title:_(t).banner.title,chars:_(a)},null,8,["title","chars"])):p("v-if",!0)],64)):p("v-if",!0),_(e).isStrato?(o(),$(C,{key:1,title:_(t).banner.title,chars:_(a)},null,8,["title","chars"])):p("v-if",!0),r("div",ze,[r("div",{class:k(["banner-line vertical-line-bottom",c.value])},null,2)]),u(v)],4)}}}),He=w({__name:"DomainCheck",setup(d){return E(()=>{const e="www.xscnet.cn",t="https://www.xscnet.cn/",n=document.location.hostname;function a(m){const i=document.createElement("div");i.style.pointerEvents="none",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.zIndex="9999",i.style.opacity="0.1",i.style.background="transparent",i.style.overflow="hidden",i.style.display="flex",i.style.justifyContent="center",i.style.alignItems="center",i.style.flexWrap="wrap";const c=document.createElement("div");c.innerText=m,c.style.color="black",c.style.fontSize="30px",c.style.transform="rotate(-30deg)",c.style.whiteSpace="nowrap",c.style.margin="20px";for(let f=0;f<100;f++)i.appendChild(c.cloneNode(!0));document.body.appendChild(i)}if(n==="localhost"){console.log("Completely: å½“å‰å¤„äºŽæœ¬åœ°å¼€å‘çŽ¯å¢ƒ (localhost)");return}else n==="xscnas.top"?(console.log("Completely: å·²ç»è·³è½¬åˆ°å®˜æ–¹åŸŸå (www.xscnet.cn)"),window.location.replace(t)):n==="vercel.xscnet.cn"?(a(e),console.log("Completely: å½“å‰è®¿é—®çš„æ˜¯ Vercel é•œåƒç«™ (vercel.xscnet.cn)ï¼Œå‡ºçŽ°æ­¤åŽŸå› å¯èƒ½æ˜¯CDNæ£€æµ‹åˆ°ä¸»ç«™è¿žæŽ¥é—®é¢˜ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨Vercelç«™ï¼Œè¿™å¹¶ä¸ä»£è¡¨ä½ ä¸€å®šä¸èƒ½ä½¿ç”¨ä¸»ç«™ï¼Œç‚¹å‡»ç¡®å®šå³å¯è‡ªåŠ¨è·³è½¬ä¸»ç«™ï¼Œå¦‚ç‚¹å‡»ç¡®å®šåŽä»ç„¶è·³è½¬ä¸ºVercelç«™ï¼Œè¯·è”ç³»ç«™é•¿Mete0r_xsc@hotmail.comï¼Œä»¥ååŠ©æŽ’æŸ¥é—®é¢˜ï¼Œå»ºè®®æ‚¨è·³è½¬è‡³å®˜ç½‘ (www.xscnet.cn) è¿›è¡Œæµè§ˆï¼"),confirm("æç¤ºï¼šæ‚¨å½“å‰è®¿é—®çš„æ˜¯ Vercel é•œåƒç«™ï¼Œå‡ºçŽ°æ­¤åŽŸå› å¯èƒ½æ˜¯CDNæ£€æµ‹åˆ°ä¸»ç«™è¿žæŽ¥é—®é¢˜ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨Vercelç«™ï¼Œè¿™å¹¶ä¸ä»£è¡¨ä½ ä¸€å®šä¸èƒ½ä½¿ç”¨ä¸»ç«™ï¼Œç‚¹å‡»ç¡®å®šå³å¯è‡ªåŠ¨è·³è½¬ä¸»ç«™ï¼Œå¦‚ç‚¹å‡»ç¡®å®šåŽä»ç„¶è·³è½¬ä¸ºVercelç«™ï¼Œè¯·è”ç³»ç«™é•¿Mete0r_xsc@hotmail.comï¼Œä»¥ååŠ©æŽ’æŸ¥é—®é¢˜ï¼Œå»ºè®®æ‚¨è·³è½¬è‡³å®˜ç½‘ (www.xscnet.cn) è¿›è¡Œæµè§ˆï¼")&&window.location.replace(t)):n!==e&&(a(e),confirm("æç¤ºï¼šæ‚¨å½“å‰æµè§ˆçš„é¡µé¢ä¸æ˜¯æ­£ç‰ˆ(æˆ–è€…ç«™ç‚¹å·²ç»è¿ç§»åŸŸå)ï¼Œå»ºè®®æ‚¨è·³è½¬è‡³å®˜æ–¹(www.xscnet.cn)è¿›è¡Œæµè§ˆï¼å¦‚æžœä¸æ˜¯åšä¸»çš„åŸŸååŠæ—¶ç•™è¨€åé¦ˆMete0r_xsc@hotmail.comï¼Œåšä¸»åŸŸåä¸ºï¼šwww.xscnet.cnæˆ–www.xscnas.top")&&window.location.replace(t))}),(e,t)=>p(" è¿™ä¸ªç»„ä»¶ä¸éœ€è¦æ¨¡æ¿å†…å®¹ï¼Œå› ä¸ºå®ƒä¸»è¦æ˜¯é€šè¿‡è„šæœ¬é€»è¾‘æ¥æ“ä½œDOM ")}}),Ge={key:0,class:"notice-bar"},We={class:"notice-content"},Oe={key:0},Ue={key:1},Ke={class:"city"},Xe={class:"greeting"},Je={class:"distance"},Qe={class:"distance"},Ze={class:"ip"},et=w({__name:"NoticeBar",setup(d){const e=y(""),t=y(""),n=y(""),a=y(""),m=y(""),i=y(!0),c=y(""),f=y(!0),h=async()=>{try{const s=await(await fetch("https://api.kuleu.com/api/getGreetingMessage?type=json")).json();if(s.code===200)m.value=s.data.greeting+" "+s.data.tip;else throw new Error("Failed to get greeting message")}catch(v){console.error("Error:",v),m.value="æ—©ä¸Šå¥½ï¼Œç¾Žå¥½çš„ä¸€å¤©åˆå¼€å§‹äº†ðŸ˜Ž"}};E(async()=>{try{const b=await(await fetch("https://api.nsmao.net/api/ipip/query?key=lHY1oFqNOseVmtH1tk6GNVbNh8")).json();e.value=b.ip,t.value=`${b.data.country} ${b.data.province} ${b.data.city}`||"æœªçŸ¥åœ°åŒº";const x={lat:parseFloat(b.data.lat)||0,lng:parseFloat(b.data.lng)||0};if(x.lat===0&&x.lng===0)throw new Error("æ— æ³•èŽ·å–æœ‰æ•ˆçš„ç»çº¬åº¦ä¿¡æ¯");const Y={lat:42.9094,lng:129.4718};n.value=S(Y,x).toFixed(2);const A={lat:39.7461,lng:116.4991};a.value=S(A,x).toFixed(2),await h()}catch(s){c.value="æ— æ³•åŠ è½½å…¬å‘Šä¿¡æ¯ï¼Œè¯·ç¨åŽé‡è¯•ã€‚åˆ·æ–°åŽå¦‚æžœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·é€šè¿‡Mete0r_xsc@hotmail.comè”ç³»æˆ‘ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å› ä¸ºåœ¨IPæ£€æµ‹éƒ¨åˆ†é‡åˆ°äº†éšœç¢ï¼Œç³»ç»Ÿç›‘æµ‹ä¸åˆ°æ‚¨çš„IPå¯¹åº”çš„åŸŽå¸‚ï¼Œæ‰€ä»¥è¿”å›žäº†é”™è¯¯ï¼Œä¸è¿‡è¿™ä¸è€½è¯¯æ‚¨å¯¹ç½‘ç«™çš„æµè§ˆï¼Œå¦‚æœ‰å…´è¶£ï¼Œå¯æ£€æŸ¥è‡ªå·±çš„IPæ˜¯å¦èƒ½æŸ¥è¯¢åˆ°å¯¹åº”çš„åŸŽå¸‚,æ£€æµ‹APIï¼š https://api.nsmao.net/api/ipip/geo/v1/query?key=[API_KEY]",console.error("Error:",s)}finally{i.value=!1}const v=()=>{const s=document.documentElement.classList.contains("dark");document.documentElement.style.setProperty("--notice-bg-color",s?"rgba(128, 128, 128, 0.75)":"rgba(255, 255, 255, 0.75)"),document.documentElement.style.setProperty("--notice-text-color",s?"#fff":"#000"),document.documentElement.style.setProperty("--close-button-color",s?"#fff":"#666")};v(),Q(()=>document.documentElement.classList.contains("dark"),v)});function S(v,s){const x=(s.lat-v.lat)*Math.PI/180,Y=(s.lng-v.lng)*Math.PI/180,A=Math.sin(x/2)*Math.sin(x/2)+Math.cos(v.lat*Math.PI/180)*Math.cos(s.lat*Math.PI/180)*Math.sin(Y/2)*Math.sin(Y/2);return 6371*(2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A)))}function C(){f.value=!1}return(v,s)=>(o(),$(D,{name:"slide"},{default:N(()=>[f.value?(o(),l("div",Ge,[r("div",We,[r("button",{class:"close-button",onClick:C},"Ã—"),s[8]||(s[8]=r("h3",null,"å…¬å‘Š",-1)),i.value?(o(),l("p",Oe,"åŠ è½½ä¸­...")):c.value?(o(),l("p",Ue,g(c.value),1)):(o(),l(M,{key:2},[s[6]||(s[6]=r("p",null,[L("æ¬¢è¿Žæ¥åˆ°Mete0rçš„åšå®¢ï¼æœ‰ä»»ä½•é—®é¢˜è¯·è”ç³»é‚®ç®±: "),r("a",{href:"mailto:Mete0r_xsc@hotmail.com"},"Mete0r_xsc@hotmail.com")],-1)),s[7]||(s[7]=r("p",null,"ðŸŽ‰ æ¬¢è¿Žä¿¡æ¯ ðŸŽ‰",-1)),r("p",null,[s[0]||(s[0]=L("â€ƒâ€ƒæ¬¢è¿Žæ¥è‡ª ")),r("span",Ke,g(t.value),1),s[1]||(s[1]=L(" çš„å°ä¼™ä¼´ï¼Œ")),r("span",Xe,g(m.value),1),s[2]||(s[2]=L(" æ‚¨çŽ°åœ¨è·ç¦»ç«™é•¿çº¦ ")),r("span",Je,g(n.value),1),s[3]||(s[3]=L(" å…¬é‡Œï¼Œè·ç¦»åšå®¢æœåŠ¡å™¨çº¦ ")),r("span",Qe,g(a.value),1),s[4]||(s[4]=L(" å…¬é‡Œã€‚å½“å‰çš„IPåœ°å€ä¸ºï¼š ")),r("span",Ze,g(e.value),1),s[5]||(s[5]=L("ï¼Œç¥æ‚¨åœ¨æˆ‘çš„åšå®¢é‡ŒçŽ©çš„å¼€å¿ƒï¼"))])],64))])])):p("v-if",!0)]),_:1}))}}),tt=T(et,[["__scopeId","data-v-a56c3e7d"]]),nt={class:"w-full"},st={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},ot={key:1,class:"h-$yun-nav-height"},ht=w({__name:"home",setup(d){const e=q(),t=te(),n=V(),a=I(()=>t.path.startsWith("/page")),m=I(()=>{const c=n.value.notice;return c.enable&&(a.value?!c.hideInPages:!0)}),i=()=>{if(window.clarity)try{window.clarity("stop"),delete window.clarity}catch(c){console.error("Clarity cleanup error:",c)}};return E(()=>{if(typeof window<"u"&&!window.clarity){const c=document.createElement("script");c.innerHTML=`
      (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "sdnygtrddr");
    `,document.head.appendChild(c),window.addEventListener("beforeunload",i)}}),Z(()=>{i(),window.removeEventListener("beforeunload",i)}),(c,f)=>{const h=je,S=Ae,C=he,v=pe,s=ce,b=ee("RouterView"),x=X,Y=J;return o(),l(M,null,[u(He),p(" ä½¿ç”¨DomainCheck "),u(tt),p(" ä½¿ç”¨NoticeBar "),u(ne),p(" ä½¿ç”¨LinkInterceptor "),u(se),p(" ä½¿ç”¨StayPleaseTitle "),u(x,{class:k(["items-center flex-col",{"mt-0!":!a.value}])},{default:N(()=>[_(n).banner.enable?(o(),l(M,{key:0},[a.value?p("v-if",!0):(o(),l(M,{key:0},[r("div",nt,[u(h),_(e).isNimbo?(o(),$(D,{key:0,"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:N(()=>[r("div",st,[u(D,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:N(()=>[u(S,{class:"z-1"})]),_:1})])]),_:1})):p("v-if",!0),_(n).say.enable?(o(),$(C,{key:1,w:"full"})):p("v-if",!0)]),_(e).isNimbo?(o(),$(v,{key:0,class:"absolute left-0 top-0 right-0 bottom-0"})):p("v-if",!0)],64))],64)):(o(),l("div",ot)),m.value?(o(),$(s,{key:2,class:k(["mb-2 md:mb-6",{"mt-4":!a.value}]),content:_(n).notice.content},null,8,["class","content"])):p("v-if",!0),P(c.$slots,"board"),P(c.$slots,"default",{},()=>[u(b)])]),_:3},8,["class"]),u(Y)],64)}}});export{ht as default};
